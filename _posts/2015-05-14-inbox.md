---
layout: page
title: "Inbox Messaging"
subtitle: "Inbox"
category: inbox
date: 2015-05-14 12:00:00
order: 1
---
Use the SDK to easily incorporate inbox functionality into your mobile app. All active inbox messages download to the mobile device each time the app is brought to the foreground.

Marketers can create an `Inbox Only` message to deliver the message silently to the inbox or an `Inbox+Alert` message to include a push notification with the inbox message.

### Implement Inbox Functionality

Find convenience methods for refreshing the inbox and getting, reading, and deleting messages in [InboxMessages Methods]({{ site.baseurl }}/appledoc/Classes/MarketingCloudSDK.html#task_InboxMessages%20Methods).

To display inbox-only messages sent from Marketing Cloud, use the UITableView datasource provided by the SDK in a UIViewController. Your UIViewController creates an inbox in your app to display these messages. The SDK adds messages to the datasource after they are downloaded.

Manage the selection of rows in your tableview using the basic UITableView delegate provided by the SDK. Otherwise, your app must implement a UITableView delegate.

#### Example: Inbox Implementation
This example includes a simple implementation of an inbox using the SDK as the datasource and delegate.

{% include tabbed_gists.html sectionId="inbox" names="8.x,7.x" gists="https://gist.github.com/stopczewska/1ffab14ac827f53f1576e87f060fc79b.js,https://gist.github.com/4e6c3910935f6ccab2845091837d6474.js" %}

For additional control, presentation, and usability, implement your own datasource and delegate using the support offered by the SDK.

#### Inbox Messaging Public Properties

SDK offers a convenience methods to getAllMessages, getUnreadMessages, getReadMessages and getDeletedMessages which returns an `Array of dictionary`.

Below are the **public properties within dictionary** that can be used by the consuming application

| Key             | Value           |
| :------------   |:---------------:|
| **id**              | String?         |
| **alert**           | String?         |
| **subject**         |  String?        |
| **startDateUtc**    |  Date?          |
| **endDateUtc**      |  Date?          |
| **custom**          |  String?        |
| **name**            |  String?        |
| **title**           |  String?        |
| **url**             |  String?        |
| **deleted**         |  Bool           |
| **read**            |  Bool           |
| **sound**           |  String?        |
| **subtitle**        |  String?        |

<br>

Rest of the properties within dictionary `contentType, messageDeleted, messageHash, requestId, statusDirty` are for internal use only, consuming applications can use them at their own risk as they are subject to change.

##### Alert + Inbox Messages

The Alert + Inbox was designed to allow a tap on an Inbox Push Notification to take user to an Inbox message, where  the Inbox data is added to the Push notification payload.  Due to payload size restrictions from Apple, all the Inbox fields cannot be added to the `Push payload`, but the user can be redirected to the message without any issues and all fields are available when returned to the Inbox.  

The fields `sendDateUtc, startDateUtc, endDateUtc, and subject along with statusDirty` are not available initially in Alert + Inbox Messages as per the above case.

### Use Case
#### Sort Inbox Messages by Sent Date
To sort inbox messages in your custom inbox implementation, use the value of `sendDateUtc` from the inbox message returned by `sfmc_getAllMessages` and other getters.

To sort your UITableView data source array of Inbox messages, use an NSSortDescriptor for the key `sendDateUtc`. Sort your data source array with this descriptor, and then reload your UITableView.

### Related Items
* [Handling URLs]({{ site.baseurl }}/sdk-implementation/implementation-urlhandling.html)
* [Analytics]({{ site.baseurl }}/analytics/analytics.html#track-inbox-message-opens)
